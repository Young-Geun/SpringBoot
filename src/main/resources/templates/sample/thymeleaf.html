<!DOCTYPE HTML>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head.html :: headFragment"></head>
<body>
<div class="container-scroller">
    <nav th:replace="fragments/sidebar.html :: sidebarFragment"></nav>
    <div class="container-fluid page-body-wrapper">
        <nav th:replace="fragments/top.html :: topbarFragment"></nav>
        <div class="main-panel">
            <div class="content-wrapper">
                <div class="page-header">
                    <h3 class="page-title">샘플코드</h3>
                </div>
                <div class="row">
                    <div class="col-lg-12 grid-margin stretch-card">
                        <div class="card">
                            <div class="card-body">
                                <div class="table-responsive py-xl-5">
                                    <table class="table table-striped">
                                        <thead>
                                        <tr>
                                            <th></th>
                                            <th>타임리프 Index</th>
                                            <th>타임리프 Count</th>
                                            <th>아이디</th>
                                            <th>이름</th>
                                            <th>타입</th>
                                            <th>값1</th>
                                            <th>값2</th>
                                            <th>값3</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr th:each="list, i : ${sampleList}">
                                            <td th:if="${i.index == 0}" th:rowspan="${sampleList.size()}">조회<br>리스트</td>
                                            <td th:text="${i.index}">아이디</td>
                                            <td th:text="${i.count}">Index</td>
                                            <td th:text="${list.sampleId}">Count</td>
                                            <td th:text="${list.sampleName}">이름</td>
                                            <td th:text="${list.sampleType}">타입</td>
                                            <td th:text="${list.sampleNum1}">값1</td>
                                            <td th:text="${list.sampleNum2}">값2</td>
                                            <td th:text="${list.sampleNum3}">값3</td>
                                        </tr>
                                        <tr>
                                            <td th:colspan="6">타입1 합계</td>
                                            <td th:text="${#aggregates.sum(sampleList.?[sampleType==1].![sampleNum1])}">값1</td>
                                            <td th:text="${#aggregates.sum(sampleList.?[sampleType==1].![sampleNum2])}">값2</td>
                                            <td th:text="${#aggregates.sum(sampleList.?[sampleType==1].![sampleNum3])}">값3</td>
                                        </tr>
                                        <tr>
                                            <td th:colspan="6">타입2 합계</td>
                                            <td th:text="${#aggregates.sum(sampleList.?[sampleType==2].![sampleNum1])}">값1</td>
                                            <td th:text="${#aggregates.sum(sampleList.?[sampleType==2].![sampleNum2])}">값2</td>
                                            <td th:text="${#aggregates.sum(sampleList.?[sampleType==2].![sampleNum3])}">값3</td>
                                        </tr>
                                        <tr>
                                            <td th:colspan="6">타입3 합계</td>
                                            <td th:text="${#aggregates.sum(sampleList.?[sampleType==3].![sampleNum1])}">값1</td>
                                            <td th:text="${#aggregates.sum(sampleList.?[sampleType==3].![sampleNum2])}">값2</td>
                                            <td th:text="${#aggregates.sum(sampleList.?[sampleType==3].![sampleNum3])}">값3</td>
                                        </tr>
                                        <tr>
                                            <td th:colspan="6">전체 합계</td>
                                            <td th:text="${#aggregates.sum(sampleList.![sampleNum1])}">값1</td>
                                            <td th:text="${#aggregates.sum(sampleList.![sampleNum2])}">값2</td>
                                            <td th:text="${#aggregates.sum(sampleList.![sampleNum3])}">값3</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <footer th:replace="fragments/footer.html :: footerFragment"></footer>
        </div>
    </div>
</div>
</body>
</html>